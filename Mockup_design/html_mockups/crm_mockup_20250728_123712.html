
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Analyst Dashboard - Fintech</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        :root {
            --primary-color: #007bff; /* Blue */
            --secondary-color: #6c757d; /* Gray */
            --accent-color: #28a745; /* Green */
            --danger-color: #dc3545; /* Red */
            --warning-color: #ffc107; /* Yellow */
            --background-color: #f8f9fa; /* Light Gray */
            --card-background: #ffffff;
            --border-color: #e9ecef;
            --text-color: #343a40; /* Dark Gray */
            --light-text-color: #6c757d;
            --header-background: linear-gradient(to right, #0a1128, #1c2a4f); /* Dark Blue Gradient */
            --sidebar-background: #212529; /* Darker Gray */
            --sidebar-link-hover: #343a40;
            --shadow-light: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
            --shadow-medium: 0 0.5rem 1rem rgba(0, 0, 0, 0.1);
            --border-radius: 0.5rem;
            --gap: 1.5rem;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
            display: flex;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Helper Classes */
        .flex-row { display: flex; align-items: center; }
        .flex-col { display: flex; flex-direction: column; }
        .justify-between { justify-content: space-between; }
        .align-center { align-items: center; }
        .text-center { text-align: center; }
        .text-right { text-align: right; }
        .mb-1 { margin-bottom: 0.5rem; }
        .mb-2 { margin-bottom: 1rem; }
        .mb-3 { margin-bottom: 1.5rem; }
        .mr-1 { margin-right: 0.5rem; }
        .mr-2 { margin-right: 1rem; }
        .py-1 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
        .px-2 { padding-left: 1rem; padding-right: 1rem; }
        .font-semibold { font-weight: 600; }
        .font-bold { font-weight: 700; }
        .text-sm { font-size: 0.875rem; }
        .text-xs { font-size: 0.75rem; }
        .text-lg { font-size: 1.125rem; }
        .text-xl { font-size: 1.25rem; }
        .text-2xl { font-size: 1.5rem; }
        .text-3xl { font-size: 1.875rem; }
        .text-4xl { font-size: 2.25rem; }
        .text-primary { color: var(--primary-color); }
        .text-success { color: var(--accent-color); }
        .text-danger { color: var(--danger-color); }
        .text-warning { color: var(--warning-color); }

        /* General UI Elements */
        .card {
            background-color: var(--card-background);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-light);
            padding: var(--gap);
            margin-bottom: var(--gap);
        }

        .button {
            padding: 0.75rem 1.25rem;
            border-radius: var(--border-radius);
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease-in-out;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        .button-primary { background-color: var(--primary-color); color: white; }
        .button-primary:hover { background-color: #0056b3; box-shadow: var(--shadow-medium); }
        .button-secondary { background-color: var(--secondary-color); color: white; }
        .button-secondary:hover { background-color: #5a6268; box-shadow: var(--shadow-medium); }
        .button-outline { background-color: transparent; border: 1px solid var(--primary-color); color: var(--primary-color); }
        .button-outline:hover { background-color: var(--primary-color); color: white; }
        .button-sm { padding: 0.5rem 0.8rem; font-size: 0.875rem; }
        .button-icon { background: none; border: none; padding: 0.5rem; color: var(--text-color); cursor: pointer; }
        .button-icon:hover { color: var(--primary-color); }

        input[type="text"],
        input[type="number"],
        input[type="email"],
        input[type="date"],
        select,
        textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            color: var(--text-color);
            transition: border-color 0.2s;
        }
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 0.1rem rgba(0, 123, 255, 0.25);
        }

        table {
            width: 100%;
            border-collapse: separate; /* Use separate to allow border-radius on cells */
            border-spacing: 0; /* Remove default spacing */
            margin-top: 1rem;
            background-color: var(--card-background);
            border-radius: var(--border-radius);
            overflow: hidden; /* Ensures border-radius applies nicely */
        }
        th, td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }
        th {
            background-color: var(--background-color);
            font-weight: 600;
            color: var(--light-text-color);
            text-transform: uppercase;
            font-size: 0.85rem;
        }
        tr:last-child td {
            border-bottom: none;
        }
        tbody tr:hover {
            background-color: #f1f1f1;
            cursor: pointer;
        }

        /* Icons (placeholder for actual SVG/Font Awesome) */
        .icon {
            display: inline-block;
            width: 1em;
            height: 1em;
            background-color: currentColor; /* Inherits color */
            -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>') no-repeat 50% 50%;
            mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>') no-repeat 50% 50%;
            -webkit-mask-size: cover;
            mask-size: cover;
            vertical-align: middle;
            margin-right: 0.5rem;
        }
        /* Specific icons */
        .icon-dashboard { -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/></svg>'); mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/></svg>'); }
        .icon-users { -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1zM12 14c2.67 0 5.33 1.33 5.33 4v2H6.67v-2c0-2.67 2.67-4 5.33-4zM12 4a4 4 0 100 8 4 4 0 000-8zm0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>'); mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1zM12 14c2.67 0 5.33 1.33 5.33 4v2H6.67v-2c0-2.67 2.67-4 5.33-4zM12 4a4 4 0 100 8 4 4 0 000-8zm0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>'); }
        .icon-finance { -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 18V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2zm-2 0H4V6h16v12zm-5-8h-2v4h2v-4zm-4 0H9v4h2v-4zM7 8H5v6h2V8z"/></svg>'); mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 18V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2zm-2 0H4V6h16v12zm-5-8h-2v4h2v-4zm-4 0H9v4h2v-4zM7 8H5v6h2V8z"/></svg>'); }
        .icon-risk { -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2L1 21h22L12 2zm0 4.5L18.4 19H5.6L12 6.5zM11 10h2v4h-2zm0 5h2v2h-2z"/></svg>'); mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2L1 21h22L12 2zm0 4.5L18.4 19H5.6L12 6.5zM11 10h2v4h-2zm0 5h2v2h-2z"/></svg>'); }
        .icon-history { -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.51 0-2.91-.49-4.06-1.3l-1.42 1.42C8.21 20.32 10.04 21 12 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4 2 .71-1.41-3.21-1.6V8H12z"/></svg>'); mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.51 0-2.91-.49-4.06-1.3l-1.42 1.42C8.21 20.32 10.04 21 12 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4 2 .71-1.41-3.21-1.6V8H12z"/></svg>'); }
        .icon-settings { -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.09-.76-1.71-1.06l-.37-2.65c-.04-.32-.32-.58-.64-.58h-4c-.32 0-.6.26-.64.58l-.37 2.65c-.62.3-1.19.66-1.71 1.06l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.12.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.09.76 1.71 1.06l.37 2.65c.04.32.32.58.64.58h4c.32 0 .6-.26.64-.58l.37-2.65c.62-.3 1.19-.66 1.71-1.06l2.49 1c.22.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"/></svg>'); mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.09-.76-1.71-1.06l-.37-2.65c-.04-.32-.32-.58-.64-.58h-4c-.32 0-.6.26-.64.58l-.37 2.65c-.62.3-1.19.66-1.71 1.06l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.12.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.09.76 1.71 1.06l.37 2.65c.04.32.32.58.64.58h4c.32 0 .6-.26.64-.58l.37-2.65c.62-.3 1.19-.66 1.71-1.06l2.49 1c.22.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"/></svg>'); }
        .icon-logout { -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/></svg>'); mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/></svg>'); }
        .icon-search { -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>'); mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>'); }
        .icon-filter { -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"/></svg>'); mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"/></svg>'); }
        .icon-download { -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/></svg>'); mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/></svg>'); }
        .icon-refresh { -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.17 0 2.24.34 3.14.93L12 10h7V3l-2.35 3.35z"/></svg>'); mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.17 0 2.24.34 3.14.93L12 10h7V3l-2.35 3.35z"/></svg>'); }
        .icon-info { -webkit-mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>'); mask: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg>'); }


        /* Layout */
        .dashboard-container {
            display: flex;
            width: 100%;
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background-color: var(--sidebar-background);
            color: white;
            padding: 1.5rem 0;
            transition: width 0.3s ease-in-out;
            flex-shrink: 0;
            position: sticky;
            top: 0;
            height: 100vh;
            overflow-y: auto;
        }
        .sidebar.collapsed {
            width: 70px; /* Adjust for icon-only mode */
        }
        .sidebar.collapsed .sidebar-header h2 { display: none; }
        .sidebar.collapsed .sidebar-nav ul li a span:not(.icon) { display: none; }
        .sidebar.collapsed .sidebar-nav ul li a { justify-content: center; }
        .sidebar.collapsed .sidebar-header { justify-content: center; }

        .sidebar-header {
            text-align: center;
            padding: 0 1.5rem 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            gap: 10px;
        }
        .sidebar-header h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
        }
        .sidebar-logo {
            width: 32px;
            height: 32px;
            background-color: var(--primary-color);
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            font-weight: bold;
            color: white;
        }

        .sidebar-nav ul {
            list-style: none;
            padding: 0;
        }
        .sidebar-nav ul li a {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 0.8rem 1.5rem;
            color: #ccc;
            text-decoration: none;
            transition: background-color 0.2s, color 0.2s;
        }
        .sidebar-nav ul li a:hover,
        .sidebar-nav ul li a.active {
            background-color: var(--sidebar-link-hover);
            color: white;
        }
        .sidebar-nav ul li a .icon {
            filter: invert(100%) sepia(0%) saturate(0%) hue-rotate(93deg) brightness(103%) contrast(103%); /* Make icons white */
            width: 20px;
            height: 20px;
        }
        .sidebar-nav ul li a.active .icon {
            filter: invert(100%) sepia(0%) saturate(0%) hue-rotate(93deg) brightness(103%) contrast(103%); /* Make active icons white */
        }


        /* Main Content */
        .main-content {
            flex-grow: 1;
            padding: var(--gap);
        }

        /* Header */
        .header {
            background: var(--header-background);
            color: white;
            padding: 1rem var(--gap);
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom-left-radius: var(--border-radius);
            border-bottom-right-radius: var(--border-radius);
            margin-bottom: var(--gap);
            box-shadow: var(--shadow-medium);
        }
        .header h1 {
            font-size: 1.8rem;
            font-weight: 600;
            margin: 0;
            display: flex;
            align-items: center;
        }
        .header .search-bar {
            position: relative;
            margin-left: 2rem;
            flex-grow: 1;
            max-width: 400px;
        }
        .header .search-bar input {
            background-color: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding-left: 2.5rem;
            border-radius: 2rem;
        }
        .header .search-bar input::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }
        .header .search-bar .icon-search {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: white;
            filter: invert(1);
            width: 18px;
            height: 18px;
        }

        .header .user-profile {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .header .user-profile span {
            font-weight: 500;
        }
        .header .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
        }

        /* Dashboard Sections */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: var(--gap);
            margin-bottom: var(--gap);
        }

        .kpi-card {
            background: linear-gradient(135deg, var(--card-background) 0%, #f0f4f7 100%);
            border-left: 5px solid var(--primary-color);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-light);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: transform 0.2s ease-in-out;
        }
        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-medium);
        }
        .kpi-card .value {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--text-color);
            margin-bottom: 0.5rem;
        }
        .kpi-card .title {
            font-size: 0.9rem;
            color: var(--light-text-color);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
        }
        .kpi-card .change {
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .kpi-card .change.positive { color: var(--accent-color); }
        .kpi-card .change.negative { color: var(--danger-color); }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border-color);
        }
        .section-header h2 {
            font-size: 1.6rem;
            font-weight: 600;
            color: var(--text-color);
            margin: 0;
        }
        .section-actions .button {
            margin-left: 0.5rem;
        }
        .chart-placeholder {
            background-color: #f1f6fa;
            border: 1px dashed var(--primary-color);
            border-radius: var(--border-radius);
            height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary-color);
            font-weight: 500;
            font-size: 1.1rem;
        }

        /* Specific Sections */
        .customer-satisfaction-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--gap);
            margin-bottom: var(--gap);
        }
        .satisfaction-card {
            background-color: var(--card-background);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-light);
            padding: 1.5rem;
            text-align: center;
            transition: transform 0.2s ease-in-out;
            border-top: 4px solid var(--primary-color);
        }
        .satisfaction-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-medium);
        }
        .satisfaction-card .score {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }
        .satisfaction-card .label {
            font-size: 0.9rem;
            color: var(--light-text-color);
            text-transform: uppercase;
        }

        .compliance-status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--gap);
        }
        .compliance-card {
            background-color: var(--card-background);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-light);
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .compliance-card .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            flex-shrink: 0;
        }
        .compliance-card .status-indicator.green { background-color: var(--accent-color); }
        .compliance-card .status-indicator.red { background-color: var(--danger-color); }
        .compliance-card .status-indicator.yellow { background-color: var(--warning-color); }
        .compliance-card h3 {
            font-size: 1.1rem;
            margin: 0;
            color: var(--text-color);
        }
        .compliance-card p {
            font-size: 0.85rem;
            color: var(--light-text-color);
            margin: 0.2rem 0 0;
        }

        /* Customer Profile Modal */
        .modal {
            display: none; /* Hidden by default */
            position: fixed; /* Stay in place */
            z-index: 1000; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%; /* Full width */
            height: 100%; /* Full height */
            overflow: auto; /* Enable scroll if needed */
            background-color: rgba(0,0,0,0.6); /* Black w/ opacity */
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background-color: var(--card-background);
            margin: auto;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-medium);
            width: 90%;
            max-width: 900px;
            position: relative;
            animation: fadeIn 0.3s ease-out;
        }
        .modal-close-button {
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            font-size: 2rem;
            font-weight: bold;
            color: var(--light-text-color);
            cursor: pointer;
            border: none;
            background: none;
        }
        .modal-close-button:hover {
            color: var(--danger-color);
        }

        .profile-header {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid var(--border-color);
        }
        .profile-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: bold;
        }
        .profile-header h2 {
            margin: 0;
            font-size: 2rem;
            color: var(--text-color);
        }
        .profile-header p {
            margin: 0;
            color: var(--light-text-color);
            font-size: 1rem;
        }

        .profile-details-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        .profile-detail-item {
            padding: 0.75rem 0;
            border-bottom: 1px dashed var(--border-color);
        }
        .profile-detail-item:last-child {
            border-bottom: none;
        }
        .profile-detail-item label {
            display: block;
            font-size: 0.85rem;
            color: var(--light-text-color);
            margin-bottom: 0.25rem;
        }
        .profile-detail-item span {
            font-size: 1rem;
            font-weight: 500;
            color: var(--text-color);
        }

        .profile-section h3 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 0.5rem;
        }

        .transaction-timeline {
            margin-top: 1.5rem;
            border-left: 2px solid var(--border-color);
            padding-left: 1.5rem;
        }
        .timeline-item {
            position: relative;
            padding-bottom: 1.5rem;
            margin-bottom: 1.5rem;
            border-bottom: 1px dashed var(--border-color);
        }
        .timeline-item:last-child {
            border-bottom: none;
            padding-bottom: 0;
            margin-bottom: 0;
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -2.3rem; /* Adjust to align with the main line */
            top: 0.3rem;
            width: 1rem;
            height: 1rem;
            background-color: var(--primary-color);
            border-radius: 50%;
            border: 3px solid var(--card-background);
        }
        .timeline-item h4 {
            margin: 0 0 0.5rem;
            font-size: 1rem;
            color: var(--text-color);
        }
        .timeline-item .date {
            font-size: 0.8rem;
            color: var(--light-text-color);
            margin-bottom: 0.5rem;
        }
        .timeline-item p {
            font-size: 0.9rem;
            color: var(--text-color);
            margin: 0;
        }


        /* Responsiveness */
        @media (max-width: 1200px) {
            .header .search-bar {
                max-width: 300px;
            }
        }

        @media (max-width: 992px) {
            .sidebar {
                width: 70px;
            }
            .sidebar .sidebar-header h2,
            .sidebar .sidebar-nav ul li a span:not(.icon) {
                display: none;
            }
            .sidebar .sidebar-nav ul li a {
                justify-content: center;
            }
            .sidebar .sidebar-header {
                justify-content: center;
            }
            .header h1 {
                font-size: 1.5rem;
            }
            .header .search-bar {
                margin-left: 1rem;
                max-width: 250px;
            }
            .kpi-card .value {
                font-size: 1.8rem;
            }
            .section-header h2 {
                font-size: 1.4rem;
            }
        }

        @media (max-width: 768px) {
            body {
                flex-direction: column;
            }
            .sidebar {
                width: 100%;
                height: auto;
                position: static;
                padding: 1rem 0;
                overflow-y: visible;
                display: none; /* Hidden by default for mobile */
            }
            .sidebar.active {
                display: block; /* Show when active */
            }
            .sidebar-header {
                padding: 0 1rem 1rem;
            }
            .sidebar-nav ul {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
            }
            .sidebar-nav ul li a {
                padding: 0.6rem 0.8rem;
                flex-direction: column;
                gap: 5px;
                font-size: 0.8rem;
            }
            .sidebar-nav ul li a span:not(.icon) {
                display: block !important; /* Always show text on mobile nav items */
            }

            .main-content {
                padding: 1rem;
            }
            .header {
                flex-wrap: wrap;
                justify-content: center;
                gap: 1rem;
                padding: 1rem;
            }
            .header h1 {
                width: 100%;
                text-align: center;
                margin-bottom: 1rem;
            }
            .header .search-bar {
                width: 100%;
                max-width: none;
                margin-left: 0;
            }
            .header .user-profile {
                width: 100%;
                justify-content: center;
            }
            .dashboard-grid,
            .customer-satisfaction-cards,
            .compliance-status-grid,
            .profile-details-grid {
                grid-template-columns: 1fr;
            }
            .modal-content {
                width: 95%;
                padding: 1.5rem;
            }
            .profile-header {
                flex-direction: column;
                text-align: center;
            }
            .profile-avatar {
                margin-bottom: 1rem;
            }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">BA</div>
                <h2>Fintech Insights</h2>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="#overview" class="active"><span class="icon icon-dashboard"></span> <span>Dashboard Overview</span></a></li>
                    <li><a href="#customer-analytics"><span class="icon icon-users"></span> <span>Customer Analytics</span></a></li>
                    <li><a href="#financial-analysis"><span class="icon icon-finance"></span> <span>Financial Analysis</span></a></li>
                    <li><a href="#risk-compliance"><span class="icon icon-risk"></span> <span>Risk & Compliance</span></a></li>
                    <li><a href="#interaction-history"><span class="icon icon-history"></span> <span>Interaction History</span></a></li>
                    <li><a href="#settings"><span class="icon icon-settings"></span> <span>Settings</span></a></li>
                    <li><a href="#"><span class="icon icon-logout"></span> <span>Logout</span></a></li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Header Section -->
            <header class="header">
                <button class="button-icon" id="sidebarToggle" aria-label="Toggle sidebar">
                    <svg class="icon" style="filter: invert(1);" xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
                </button>
                <h1>Business Analyst Dashboard</h1>
                <div class="search-bar">
                    <span class="icon icon-search"></span>
                    <input type="text" placeholder="Search customers, transactions, reports...">
                </div>
                <div class="user-profile">
                    <span>Welcome, Sarah!</span>
                    <div class="user-avatar">S</div>
                </div>
            </header>

            <!-- Dashboard Overview Section -->
            <section id="overview" class="dashboard-section">
                <div class="section-header">
                    <h2>Key Performance Indicators (KPIs)</h2>
                    <div class="section-actions">
                        <button class="button button-outline button-sm"><span class="icon icon-refresh"></span> Refresh Data</button>
                    </div>
                </div>
                <div class="dashboard-grid">
                    <div class="kpi-card">
                        <div class="title">Total Active Customers</div>
                        <div class="value">2,56,789</div>
                        <div class="change positive">+3.5% vs. Last Month</div>
                    </div>
                    <div class="kpi-card">
                        <div class="title">New Accounts Opened (Q2)</div>
                        <div class="value">Rs. <span data-value="1250000000"></span></div>
                        <div class="change positive">+12.8% vs. Last Quarter</div>
                    </div>
                    <div class="kpi-card">
                        <div class="title">Total Transaction Value (YTD)</div>
                        <div class="value">Rs. <span data-value="89750000000"></span></div>
                        <div class="change positive">+21.1% vs. Last Year</div>
                    </div>
                    <div class="kpi-card">
                        <div class="title">Average Transaction Value</div>
                        <div class="value">Rs. <span data-value="8500"></span></div>
                        <div class="change positive">+1.2% vs. Last Week</div>
                    </div>
                    <div class="kpi-card">
                        <div class="title">Non-Performing Assets (NPA) Ratio</div>
                        <div class="value">1.8%</div>
                        <div class="change negative">-0.2% vs. Last Quarter</div>
                    </div>
                    <div class="kpi-card">
                        <div class="title">Customer Churn Rate</div>
                        <div class="value">0.7%</div>
                        <div class="change negative">-0.1% vs. Last Month</div>
                    </div>
                </div>
            </section>

            <!-- Customer Analytics Section -->
            <section id="customer-analytics" class="dashboard-section">
                <div class="section-header">
                    <h2>Customer Analytics & Insights</h2>
                    <div class="section-actions">
                        <button class="button button-primary button-sm"><span class="icon icon-download"></span> Export Data</button>
                    </div>
                </div>
                <div class="dashboard-grid">
                    <div class="card">
                        <h3>Customer Segmentation by Income</h3>
                        <div class="chart-placeholder">Pie Chart: Income Segments</div>
                        <p class="text-sm text-light-text-color mt-2">Insights on customer distribution across different income brackets.</p>
                    </div>
                    <div class="card">
                        <h3>Top Transaction Types</h3>
                        <div class="chart-placeholder">Bar Chart: Transaction Volume by Type</div>
                        <p class="text-sm text-light-text-color mt-2">Analysis of most frequent banking service usage.</p>
                    </div>
                    <div class="card">
                        <h3>Customer Behavior Patterns</h3>
                        <div class="chart-placeholder">Line Chart: Login Frequency & Feature Usage</div>
                        <p class="text-sm text-light-text-color mt-2">Trends in mobile app usage and service adoption.</p>
                    </div>
                    <div class="card">
                        <h3>Customer Loyalty by Tenure</h3>
                        <div class="chart-placeholder">Bar Chart: Customer Retention Rates</div>
                        <p class="text-sm text-light-text-color mt-2">Shows customer stickiness over time.</p>
                    </div>
                </div>

                <div class="card mb-3">
                    <div class="section-header mb-1">
                        <h3>Customer Satisfaction Metrics</h3>
                        <p class="text-sm text-light-text-color">Last 30 days</p>
                    </div>
                    <div class="customer-satisfaction-cards">
                        <div class="satisfaction-card" style="border-top-color: var(--accent-color);">
                            <div class="score">7.8</div>
                            <div class="label">CSAT Score (out of 10)</div>
                        </div>
                        <div class="satisfaction-card" style="border-top-color: var(--primary-color);">
                            <div class="score">45%</div>
                            <div class="label">NPS Score</div>
                        </div>
                        <div class="satisfaction-card" style="border-top-color: var(--warning-color);">
                            <div class="score">1,230</div>
                            <div class="label">Total Feedback Received</div>
                        </div>
                        <div class="satisfaction-card" style="border-top-color: var(--danger-color);">
                            <div class="score">15%</div>
                            <div class="label">Negative Sentiment (AI Analyzed)</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="section-header mb-1">
                        <h3>Customer Profiles</h3>
                        <div class="flex-row">
                            <input type="text" id="customerSearch" placeholder="Search by name, ID, city..." style="width: 250px; margin-right: 0.5rem;">
                            <button class="button button-outline button-sm"><span class="icon icon-filter"></span> Filter</button>
                        </div>
                    </div>
                    <table id="customerTable">
                        <thead>
                            <tr>
                                <th>Customer ID</th>
                                <th>Name</th>
                                <th>Location</th>
                                <th>Account Balance</th>
                                <th>Risk Score</th>
                                <th>Last Interaction</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr data-customer-id="CUST001">
                                <td>CUST001</td>
                                <td>John Doe</td>
                                <td>Mumbai, India</td>
                                <td>Rs. <span data-value="125000"></span></td>
                                <td><span class="text-success">Low (2.1)</span></td>
                                <td>2023-11-15</td>
                                <td><button class="button-sm button-primary view-profile-btn" data-customer-id="CUST001">View Profile</button></td>
                            </tr>
                            <tr data-customer-id="CUST002">
                                <td>CUST002</td>
                                <td>Sarah Khan</td>
                                <td>Dubai, UAE</td>
                                <td>Rs. <span data-value="780000"></span></td>
                                <td><span class="text-success">Low (1.8)</span></td>
                                <td>2023-11-18</td>
                                <td><button class="button-sm button-primary view-profile-btn" data-customer-id="CUST002">View Profile</button></td>
                            </tr>
                            <tr data-customer-id="CUST003">
                                <td>CUST003</td>
                                <td>Michael Lee</td>
                                <td>Singapore</td>
                                <td>Rs. <span data-value="340000"></span></td>
                                <td><span class="text-warning">Medium (4.5)</span></td>
                                <td>2023-11-12</td>
                                <td><button class="button-sm button-primary view-profile-btn" data-customer-id="CUST003">View Profile</button></td>
                            </tr>
                            <tr data-customer-id="CUST004">
                                <td>CUST004</td>
                                <td>Priya Sharma</td>
                                <td>Bengaluru, India</td>
                                <td>Rs. <span data-value="92000"></span></td>
                                <td><span class="text-danger">High (7.2)</span></td>
                                <td>2023-11-19</td>
                                <td><button class="button-sm button-primary view-profile-btn" data-customer-id="CUST004">View Profile</button></td>
                            </tr>
                             <tr data-customer-id="CUST005">
                                <td>CUST005</td>
                                <td>Ahmed Ali</td>
                                <td>Cairo, Egypt</td>
                                <td>Rs. <span data-value="1500000"></span></td>
                                <td><span class="text-success">Low (2.5)</span></td>
                                <td>2023-11-17</td>
                                <td><button class="button-sm button-primary view-profile-btn" data-customer-id="CUST005">View Profile</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Financial Analysis Section -->
            <section id="financial-analysis" class="dashboard-section">
                <div class="section-header">
                    <h2>Financial Analysis & Trends</h2>
                    <div class="section-actions">
                        <button class="button button-primary button-sm"><span class="icon icon-download"></span> Export Report</button>
                    </div>
                </div>
                <div class="dashboard-grid">
                    <div class="card">
                        <h3>Quarterly Revenue Trend</h3>
                        <div class="chart-placeholder">Line Chart: Revenue (Rs.) by Quarter</div>
                        <p class="text-sm text-light-text-color mt-2">Overall revenue performance, considering all banking services.</p>
                    </div>
                    <div class="card">
                        <h3>Loan Portfolio Growth</h3>
                        <div class="chart-placeholder">Bar Chart: Loan Disbursals vs. Repayments</div>
                        <p class="text-sm text-light-text-color mt-2">Insights into loan product adoption and recovery.</p>
                    </div>
                    <div class="card">
                        <h3>Investment Product Performance</h3>
                        <div class="chart-placeholder">Area Chart: Mutual Funds & Equity Assets (AUM)</div>
                        <p class="text-sm text-light-text-color mt-2">Growth of wealth management products.</p>
                    </div>
                    <div class="card">
                        <h3>Inter-Bank Transaction Flow</h3>
                        <div class="chart-placeholder">Flow Diagram: Incoming vs. Outgoing Transactions</div>
                        <p class="text-sm text-light-text-color mt-2">Volume and value of transactions with other local banks.</p>
                    </div>
                </div>
            </section>

            <!-- Risk Assessment & Compliance Section -->
            <section id="risk-compliance" class="dashboard-section">
                <div class="section-header">
                    <h2>Risk Assessment & Compliance Monitoring</h2>
                    <div class="section-actions">
                        <button class="button button-primary button-sm"><span class="icon icon-download"></span> Download Alerts</button>
                    </div>
                </div>
                <div class="dashboard-grid">
                    <div class="card">
                        <h3>Customer Risk Score Distribution</h3>
                        <div class="chart-placeholder">Bar Chart: High, Medium, Low Risk Customers</div>
                        <p class="text-sm text-light-text-color mt-2">Breakdown of customer base by calculated risk levels.</p>
                    </div>
                    <div class="card">
                        <h3>Pending AML Flags</h3>
                        <div class="chart-placeholder">Donut Chart: AML Flags by Type</div>
                        <p class="text-sm text-light-text-color mt-2">Overview of Anti-Money Laundering alerts requiring review.</p>
                    </div>
                </div>

                <div class="card mb-3">
                    <div class="section-header mb-1">
                        <h3>High-Risk Customer Watchlist</h3>
                        <button class="button button-outline button-sm">View All</button>
                    </div>
                    <table>
                        <thead>
                            <tr>
                                <th>Customer ID</th>
                                <th>Name</th>
                                <th>Risk Score</th>
                                <th>Reason</th>
                                <th>Last Updated</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>CUST004</td>
                                <td>Priya Sharma</td>
                                <td class="text-danger font-semibold">7.2 (High)</td>
                                <td>Frequent Large Transactions (New Patterns)</td>
                                <td>2023-11-19</td>
                                <td><span style="color:var(--warning-color); font-weight: 600;">Under Review</span></td>
                            </tr>
                            <tr>
                                <td>CUST011</td>
                                <td>David Wilson</td>
                                <td class="text-danger font-semibold">6.8 (High)</td>
                                <td>Sanction List Match (Partial)</td>
                                <td>2023-11-18</td>
                                <td><span style="color:var(--danger-color); font-weight: 600;">Alerted</span></td>
                            </tr>
                            <tr>
                                <td>CUST023</td>
                                <td>Fatima Zahra</td>
                                <td class="text-warning font-semibold">5.5 (Medium)</td>
                                <td>Unusual Cross-Border Transfers</td>
                                <td>2023-11-16</td>
                                <td><span style="color:var(--primary-color); font-weight: 600;">Monitoring</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="card">
                    <div class="section-header mb-1">
                        <h3>Regulatory Compliance Status</h3>
                        <p class="text-sm text-light-text-color">As per Central Bank Regulations</p>
                    </div>
                    <div class="compliance-status-grid">
                        <div class="compliance-card">
                            <span class="status-indicator green"></span>
                            <div>
                                <h3>KYC & AML Standards</h3>
                                <p>All active customers are KYC compliant. No critical AML backlogs.</p>
                            </div>
                        </div>
                        <div class="compliance-card">
                            <span class="status-indicator green"></span>
                            <div>
                                <h3>Data Privacy (GDPR/Local Equivalent)</h3>
                                <p>Customer data protection protocols are fully enforced.</p>
                            </div>
                        </div>
                        <div class="compliance-card">
                            <span class="status-indicator yellow"></span>
                            <div>
                                <h3>Reporting Obligations (RBI/Central Bank)</h3>
                                <p>Upcoming deadline for Q4 financial reporting. On track.</p>
                            </div>
                        </div>
                        <div class="compliance-card">
                            <span class="status-indicator red"></span>
                            <div>
                                <h3>Complaint Resolution (Ombudsman)</h3>
                                <p>2 outstanding high-priority complaints exceeding SLA.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Customer Interaction History Section -->
            <section id="interaction-history" class="dashboard-section">
                <div class="section-header">
                    <h2>Recent Customer Interactions</h2>
                    <div class="section-actions">
                        <button class="button button-outline button-sm"><span class="icon icon-filter"></span> Filter by Type</button>
                    </div>
                </div>
                <div class="card">
                    <table>
                        <thead>
                            <tr>
                                <th>Customer ID</th>
                                <th>Name</th>
                                <th>Interaction Type</th>
                                <th>Date & Time</th>
                                <th>Summary</th>
                                <th>Agent/System</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>CUST004</td>
                                <td>Priya Sharma</td>
                                <td>Support Ticket</td>
                                <td>2023-11-19 14:30</td>
                                <td>Query regarding unusual transaction alert.</td>
                                <td>Agent: Rohit K.</td>
                            </tr>
                            <tr>
                                <td>CUST002</td>
                                <td>Sarah Khan</td>
                                <td>In-App Chat</td>
                                <td>2023-11-18 10:15</td>
                                <td>Assisted with new credit card application.</td>
                                <td>System AI</td>
                            </tr>
                            <tr>
                                <td>CUST001</td>
                                <td>John Doe</td>
                                <td>Branch Visit</td>
                                <td>2023-11-15 11:00</td>
                                <td>Opened a new fixed deposit account.</td>
                                <td>Branch: Bandra Branch</td>
                            </tr>
                            <tr>
                                <td>CUST005</td>
                                <td>Ahmed Ali</td>
                                <td>Call Center</td>
                                <td>2023-11-17 16:45</td>
                                <td>Inquiry about international remittance limits.</td>
                                <td>Agent: Neha V.</td>
                            </tr>
                            <tr>
                                <td>CUST003</td>
                                <td>Michael Lee</td>
                                <td>Email</td>
                                <td>2023-11-12 09:00</td>
                                <td>Feedback on mobile banking app UI.</td>
                                <td>CRM System</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>

    <!-- Customer Profile Modal -->
    <div id="customerProfileModal" class="modal">
        <div class="modal-content">
            <button class="modal-close-button" id="closeModal">&times;</button>
            <div class="profile-header">
                <div class="profile-avatar" id="modalCustomerAvatar">J</div>
                <div>
                    <h2 id="modalCustomerName">John Doe</h2>
                    <p>Customer ID: <span id="modalCustomerId">CUST001</span></p>
                </div>
            </div>

            <div class="profile-details-grid">
                <div class="profile-detail-item">
                    <label>Email</label>
                    <span id="modalCustomerEmail">john.doe@example.com</span>
                </div>
                <div class="profile-detail-item">
                    <label>Phone</label>
                    <span id="modalCustomerPhone">+91 98765 43210</span>
                </div>
                <div class="profile-detail-item">
                    <label>Address</label>
                    <span id="modalCustomerAddress">123, Gandhi Rd, Bandra, Mumbai, India</span>
                </div>
                <div class="profile-detail-item">
                    <label>Date of Birth</label>
                    <span id="modalCustomerDOB">1985-03-10</span>
                </div>
                <div class="profile-detail-item">
                    <label>Account Type</label>
                    <span id="modalCustomerAccountType">Savings (Premium)</span>
                </div>
                <div class="profile-detail-item">
                    <label>Account Open Date</label>
                    <span id="modalCustomerOpenDate">2018-07-20</span>
                </div>
                <div class="profile-detail-item">
                    <label>Current Balance</label>
                    <span id="modalCustomerBalance">Rs. 1,25,000</span>
                </div>
                <div class="profile-detail-item">
                    <label>Total Value of Holdings</label>
                    <span id="modalCustomerHoldings">Rs. 5,00,000</span>
                </div>
                <div class="profile-detail-item">
                    <label>Last Activity</label>
                    <span id="modalCustomerLastActivity">2023-11-20 10:45 (Mobile Login)</span>
                </div>
                <div class="profile-detail-item">
                    <label>Risk Score</label>
                    <span id="modalCustomerRiskScore" class="text-success font-semibold">2.1 (Low)</span>
                </div>
                <div class="profile-detail-item">
                    <label>KYC Status</label>
                    <span id="modalCustomerKYC" class="text-success font-semibold">Verified</span>
                </div>
                <div class="profile-detail-item">
                    <label>Services Opted</label>
                    <span id="modalCustomerServices">Savings, FD, Debit Card, Online Banking, Mutual Funds</span>
                </div>
            </div>

            <div class="profile-section">
                <h3>Financial Overview</h3>
                <div class="dashboard-grid" style="grid-template-columns: 1fr 1fr;">
                    <div class="card" style="padding: 1rem;">
                        <h4>Transaction Volume (Last 30 Days)</h4>
                        <div class="chart-placeholder" style="height: 150px; font-size: 0.9rem;">Bar Chart: Daily Transactions</div>
                    </div>
                    <div class="card" style="padding: 1rem;">
                        <h4>Avg. Monthly Spend</h4>
                        <div class="chart-placeholder" style="height: 150px; font-size: 0.9rem;">Line Chart: Spending Categories</div>
                    </div>
                </div>
            </div>

            <div class="profile-section">
                <h3>Interaction Log</h3>
                <div class="transaction-timeline">
                    <div class="timeline-item">
                        <h4>Branch Visit: New Fixed Deposit</h4>
                        <div class="date">2023-11-15 | 11:00 AM</div>
                        <p>Customer visited Bandra branch to open a new Fixed Deposit (FD) of Rs. 2,00,000 for 1 year. Assisted by Relationship Manager, Mr. Sharma. KYC documents re-verified.</p>
                    </div>
                    <div class="timeline-item">
                        <h4>Call Center: ATM Card Block</h4>
                        <div class="date">2023-10-28 | 09:30 AM</div>
                        <p>Customer called to report lost ATM card. Card blocked immediately. New card re-ordered for delivery within 5 business days. Ref: TC00987.</p>
                    </div>
                    <div class="timeline-item">
                        <h4>Mobile App Login</h4>
                        <div class="date">2023-10-25 | 08:00 PM</div>
                        <p>Successful login to mobile banking app. Reviewed account statement and initiated a fund transfer of Rs. 10,000 to another local bank (Axis Bank).</p>
                    </div>
                    <div class="timeline-item">
                        <h4>Email Inquiry: Loan Eligibility</h4>
                        <div class="date">2023-09-10 | 02:00 PM</div>
                        <p>Customer inquired about personal loan eligibility and interest rates. Automated response sent with link to loan calculator and online application form.</p>
                    </div>
                </div>
            </div>

        </div>
    </div>


    <script>
        // Utility function for rupee formatting
        function formatRupees(amount) {
            if (typeof amount !== 'number') {
                amount = parseFloat(amount);
            }
            if (isNaN(amount)) {
                return 'Rs. 0';
            }
            let parts = amount.toFixed(0).split('.');
            let integerPart = parts[0];
            let lastThree = integerPart.substring(integerPart.length - 3);
            let otherNumbers = integerPart.substring(0, integerPart.length - 3);
            if (otherNumbers !== '') {
                lastThree = ',' + lastThree;
            }
            let formatted = otherNumbers.replace(/\B(?=(\d{2})+(?!\d))/g, ",") + lastThree;
            return 'Rs. ' + formatted + (parts.length > 1 ? '.' + parts[1] : '');
        }

        // Apply rupee formatting to all elements with data-value attribute
        document.querySelectorAll('[data-value]').forEach(element => {
            const value = parseFloat(element.getAttribute('data-value'));
            if (!isNaN(value)) {
                element.textContent = formatRupees(value);
            }
        });

        // Sidebar Toggle
        const sidebar = document.getElementById('sidebar');
        const sidebarToggle = document.getElementById('sidebarToggle');

        sidebarToggle.addEventListener('click', () => {
            sidebar.classList.toggle('collapsed');
        });

        // Simple Tab/Section Switching for Sidebar
        document.querySelectorAll('.sidebar-nav ul li a').forEach(link => {
            link.addEventListener('click', function(event) {
                event.preventDefault();

                // Remove active class from all links
                document.querySelectorAll('.sidebar-nav ul li a').forEach(innerLink => {
                    innerLink.classList.remove('active');
                });

                // Add active class to clicked link
                this.classList.add('active');

                // Hide all sections
                document.querySelectorAll('.dashboard-section').forEach(section => {
                    section.style.display = 'none';
                });

                // Show the target section
                const targetId = this.getAttribute('href').substring(1);
                document.getElementById(targetId).style.display = 'block';

                // For small screens, collapse sidebar after selection
                if (window.innerWidth <= 768 && sidebar.classList.contains('active')) {
                    sidebar.classList.remove('active');
                }
            });
        });

        // Initial load: show dashboard overview
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('overview').style.display = 'block';
        });

        // Customer Profile Modal Functionality
        const customerProfileModal = document.getElementById('customerProfileModal');
        const closeModalButton = document.getElementById('closeModal');
        const viewProfileButtons = document.querySelectorAll('.view-profile-btn');

        const customerData = {
            "CUST001": {
                name: "John Doe",
                initial: "J",
                email: "john.doe@example.com",
                phone: "+91 98765 43210",
                address: "123, Gandhi Rd, Bandra, Mumbai, India",
                dob: "1985-03-10",
                accountType: "Savings (Premium)",
                openDate: "2018-07-20",
                balance: 125000,
                holdings: 500000,
                lastActivity: "2023-11-20 10:45 (Mobile Login)",
                riskScore: "2.1 (Low)",
                riskClass: "text-success",
                kycStatus: "Verified",
                services: "Savings, FD, Debit Card, Online Banking, Mutual Funds"
            },
            "CUST002": {
                name: "Sarah Khan",
                initial: "S",
                email: "sarah.khan@example.com",
                phone: "+971 50 1234567",
                address: "Flat 101, Sheikh Zayed Rd, Dubai, UAE",
                dob: "1990-05-22",
                accountType: "Current Account (Business)",
                openDate: "2019-01-15",
                balance: 780000,
                holdings: 1200000,
                lastActivity: "2023-11-18 16:20 (Online Transaction)",
                riskScore: "1.8 (Low)",
                riskClass: "text-success",
                kycStatus: "Verified",
                services: "Current, Corporate Banking, Forex, Credit Card"
            },
            "CUST003": {
                name: "Michael Lee",
                initial: "M",
                email: "michael.lee@example.com",
                phone: "+65 6123 4567",
                address: "20 Maxwell Road, Singapore",
                dob: "1978-08-01",
                accountType: "Savings (Standard)",
                openDate: "2017-03-01",
                balance: 340000,
                holdings: 600000,
                lastActivity: "2023-11-12 09:00 (Email Feedback)",
                riskScore: "4.5 (Medium)",
                riskClass: "text-warning",
                kycStatus: "Verified",
                services: "Savings, Loans, Credit Card"
            },
            "CUST004": {
                name: "Priya Sharma",
                initial: "P",
                email: "priya.sharma@example.com",
                phone: "+91 78901 23456",
                address: "Tech Park Rd, Whitefield, Bengaluru, India",
                dob: "1995-01-25",
                accountType: "Savings (Student)",
                openDate: "2022-04-10",
                balance: 92000,
                holdings: 150000,
                lastActivity: "2023-11-19 14:30 (Support Ticket)",
                riskScore: "7.2 (High)",
                riskClass: "text-danger",
                kycStatus: "Verified",
                services: "Savings, Debit Card, Mobile Banking"
            },
             "CUST005": {
                name: "Ahmed Ali",
                initial: "A",
                email: "ahmed.ali@example.com",
                phone: "+20 100 123 4567",
                address: "Nile Corniche, Cairo, Egypt",
                dob: "1980-12-05",
                accountType: "Savings (Gold)",
                openDate: "2015-09-01",
                balance: 1500000,
                holdings: 3000000,
                lastActivity: "2023-11-17 16:45 (Call Center Inquiry)",
                riskScore: "2.5 (Low)",
                riskClass: "text-success",
                kycStatus: "Verified",
                services: "Savings, Loans, Investments, International Transfers"
            }
        };

        viewProfileButtons.forEach(button => {
            button.addEventListener('click', function() {
                const customerId = this.dataset.customerId;
                const data = customerData[customerId];

                if (data) {
                    document.getElementById('modalCustomerAvatar').textContent = data.initial;
                    document.getElementById('modalCustomerName').textContent = data.name;
                    document.getElementById('modalCustomerId').textContent = customerId;
                    document.getElementById('modalCustomerEmail').textContent = data.email;
                    document.getElementById('modalCustomerPhone').textContent = data.phone;
                    document.getElementById('modalCustomerAddress').textContent = data.address;
                    document.getElementById('modalCustomerDOB').textContent = data.dob;
                    document.getElementById('modalCustomerAccountType').textContent = data.accountType;
                    document.getElementById('modalCustomerOpenDate').textContent = data.openDate;
                    document.getElementById('modalCustomerBalance').textContent = formatRupees(data.balance);
                    document.getElementById('modalCustomerHoldings').textContent = formatRupees(data.holdings);
                    document.getElementById('modalCustomerLastActivity').textContent = data.lastActivity;

                    const riskScoreElement = document.getElementById('modalCustomerRiskScore');
                    riskScoreElement.textContent = data.riskScore;
                    riskScoreElement.className = ''; // Clear existing classes
                    riskScoreElement.classList.add(data.riskClass, 'font-semibold');

                    document.getElementById('modalCustomerKYC').textContent = data.kycStatus;
                    document.getElementById('modalCustomerServices').textContent = data.services;

                    customerProfileModal.style.display = 'flex'; // Show the modal
                }
            });
        });

        closeModalButton.addEventListener('click', () => {
            customerProfileModal.style.display = 'none'; // Hide the modal
        });

        // Hide modal if clicked outside content
        customerProfileModal.addEventListener('click', (event) => {
            if (event.target === customerProfileModal) {
                customerProfileModal.style.display = 'none';
            }
        });

        // Basic Search/Filter for Customer Table
        document.getElementById('customerSearch').addEventListener('keyup', function() {
            const searchTerm = this.value.toLowerCase();
            const tableBody = document.querySelector('#customerTable tbody');
            const rows = tableBody.querySelectorAll('tr');

            rows.forEach(row => {
                const cells = row.querySelectorAll('td');
                let rowText = '';
                cells.forEach(cell => {
                    rowText += cell.textContent.toLowerCase() + ' ';
                });

                if (rowText.includes(searchTerm)) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        });

        // Toggle sidebar for small screens
        const smallScreenSidebarToggle = document.getElementById('sidebarToggle');
        if (window.innerWidth <= 768) {
             sidebar.classList.add('collapsed'); // Start collapsed on mobile
             // smallScreenSidebarToggle.style.display = 'block'; // Ensure button is visible
        } else {
             // smallScreenSidebarToggle.style.display = 'none'; // Hide button on larger screens
        }


    </script>
</body>
</html>
